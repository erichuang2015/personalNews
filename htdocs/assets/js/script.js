document.addEventListener("DOMContentLoaded",function(){function e(e,t){e.classList.add(t)}function t(e,t){e.classList.remove(t)}function n(e,t){window.scrollTo(e,t)}function l(){var t=document.getElementsByTagName("body")[0];e(t,"js")}function o(e){var t=document.getElementsByClassName(e);for(i=0;i<t.length;i++)t[i].onclick=function(e){var t=this.getAttribute("data-target");c(t,e)}}function c(n,l){var o=document.getElementById(n);o.classList.contains("js-visible")?(e(o,"js-hidden"),t(o,"js-visible"),t(f,"js-fx")):(t(o,"js-hidden"),e(o,"js-visible"),e(f,"js-fx")),g("content"),l.preventDefault()}function s(e,t,n){s=document.getElementById(e),s.classList.add("sticky"),stickyHeight=s.clientHeight+"px",document.getElementById(t).style.setProperty(n,stickyHeight)}function a(e){overlayElement=document.getElementById(e),overlayElement.style.top=stickyHeight}function m(n){var l="themeswitch.php?theme=",o=document.getElementsByTagName("html")[0];switchingElement=document.getElementById(n),switchingElement.onclick=function(){xmlhttp=new XMLHttpRequest,this.checked?(e(o,p),t(o,u),xmlhttp.open("GET",l+p,!0),xmlhttp.send(),localStorage.setItem("theme",p),console.log("localStorage Theme is: "+p)):(e(o,u),t(o,p),xmlhttp.open("GET","themeswitch.php?theme="+u,!0),xmlhttp.send(),localStorage.setItem("theme",u),console.log("localStorage Theme is: "+u))}}function d(e){elementContainer=document.getElementById(e),elementContainer.addEventListener("click",r,!1)}function r(e){e.target!==e.currentTarget&&(channelLink=e.target.getAttribute("href"),t(f,"js-fx"),h(channelLink),e.preventDefault()),e.stopPropagation()}function h(l){if(""===l){var o=localStorage.getItem("channel");if(null!==o)var l=o}document.getElementById(y).classList.remove("js-hidden"),renderFile="render-feeds.php",xmlhttp=new XMLHttpRequest,xmlhttp.open("GET",renderFile+l,!0),xmlhttp.send(),overlayContainer=document.getElementById("application-overlay"),e(overlayContainer,"js-hidden"),g("content"),xmlhttp.onreadystatechange=function(){4===xmlhttp.readyState&&xmlhttp.readyState&&(outputContainer=document.getElementById("content"),outputContainer.innerHTML=xmlhttp.response,document.getElementById(y).classList.add("js-hidden"),t(elementToFix,"js-fixed"),document.getElementById("application-overlay").classList.remove("js-visible"),n(0,0),localStorage.setItem("channel",l))}}function g(l){elementToFix=document.getElementById(l),scrollY=window.pageYOffset,elementToFix.classList.contains("js-fixed")?(t(elementToFix,"js-fixed"),elementToFix.style.top="",n(0,scrollYMem)):(e(elementToFix,"js-fixed"),elementToFix.style.top="-"+scrollY+"px",scrollYMem=scrollY),console.log(scrollYMem)}var u="light",p="dark",y="application-loading",f=document.getElementsByTagName("body")[0],x=localStorage.getItem("theme"),E=document.getElementsByTagName("html")[0];console.log(x),null!==x&&(t(E,u),t(E,p),e(E,x),x===u&&(document.getElementById("theme-switcher").checked=!1),x===p&&(document.getElementById("theme-switcher").checked=!0)),l(),h(""),s("application-header","content","margin-top"),m("theme-switcher"),o("js-overlay-toggle"),a("application-overlay"),d("channels")});